import{_ as f,o as r,c as i,a as e,w as h,n as S,F as c,q as g,s as w,v as y,t as v,h as b,u as p,l as m,x as u,y as k}from"./index-YNgO2fvX.js";const C={data(){return{isVissForm:!1,isVissCal:!1,plantName:"",selectedFile:null,previewImage:null,wateringSchedule:"",name:localStorage.getItem("name")||"",plants:JSON.parse(localStorage.getItem("plants"))||[]}},computed:{isFormValid(){return this.plantName&&this.wateringSchedule},today(){return new Date},overduePlants(){return this.plants.filter(a=>new Date(a.nextWater)<this.today)},dueTodayPlants(){return this.plants.filter(a=>{const l=new Date(a.nextWater);return l.getFullYear()===this.today.getFullYear()&&l.getMonth()===this.today.getMonth()&&l.getDate()===this.today.getDate()})},dueSoonPlants(){return this.plants.filter(a=>new Date(a.nextWater)>this.today)}},created(){this.name=localStorage.getItem("name")||"",this.plants=JSON.parse(localStorage.getItem("plants"))||[]},methods:{clearLocalStorage(){localStorage.removeItem("plants"),this.plants=[]},handleCheckboxChange(a){const l=new Date,s=this.dateHandle(l,a.waterSchedule);a.lastWater=l,a.nextWater=s,a.checked=!1,localStorage.setItem("plants",JSON.stringify(this.plants))},formatNextWater(a){const l={month:"short",day:"2-digit"};return new Date(a).toLocaleDateString(void 0,l)},toggleForm(){this.isVissForm=!this.isVissForm,this.isVissCal&&(this.isVissCal=!1)},toggleCal(){this.isVissCal=!this.isVissCal,this.isVissForm&&(this.isVissForm=!1)},updatePlants(a){this.plants=a},handleFileChange(a){const l=a.target.files[0];if(l){this.selectedFile=l;const s=new FileReader;s.onload=_=>{this.previewImage=_.target.result},s.readAsDataURL(l)}},handleSubmit(){const a=new Date,l=this.dateHandle(a,this.wateringSchedule),s={name:this.plantName,photo:this.previewImage,waterSchedule:this.wateringSchedule,lastWater:a,nextWater:l,checked:!1};this.plants.push(s),this.saveData(),this.plantName="",this.selectedFile=null,this.previewImage=null,this.wateringSchedule=""},saveData(){localStorage.setItem("name",this.name),localStorage.setItem("plants",JSON.stringify(this.plants))},dateHandle(a,l){let s=new Date(a);return l==="Daily"?s.setDate(s.getDate()+1):l==="Weekly"?s.setDate(s.getDate()+7):l==="Biweekly"?s.setDate(s.getDate()+14):l==="Monthly"&&s.setMonth(s.getMonth()+1),s}}},x=e("h1",null,"Welcome to the plant watering app!!! Still under development but feel free to check it out",-1),D={class:"calender"},V=e("h2",null,"Plant Watering Calendar",-1),W=e("br",null,null,-1),P=e("h3",null,"Please Note the checkboxes are disabled",-1),F=e("br",null,null,-1),N=e("h3",null,"Overdue",-1),I=["onUpdate:modelValue","onChange"],M=["src"],U=e("h3",null,"Due Today",-1),L=["onUpdate:modelValue","onChange"],B=["src"],T=e("h3",null,"Due Soon",-1),O=["onUpdate:modelValue","onChange"],J=["src"],q={class:"plantform"},H=e("h1",null,"Plant Information Form",-1),A=e("label",{for:"plantName"},"Name:",-1),R=e("br",null,null,-1),Y=e("label",{for:"plantPhoto"},"Photo:",-1),E=e("br",null,null,-1),j=e("label",{for:"wateringSchedule"},"Watering Schedule:",-1),z=k('<option disabled value="">Select Schedule</option><option value="Daily">Daily</option><option value="Weekly">Weekly</option><option value="Biweekly">Biweekly</option><option value="Monthly">Monthly</option>',5),G=[z],K=e("br",null,null,-1),Q=["disabled"],X={key:0},Z=e("h3",null,"Photo Preview:",-1),$=["src"],ee={class:"plantlist"},te=e("h2",null,"Plant List",-1),le=e("h3",null,"Please note editing plants are currently disabled",-1),ae=e("br",null,null,-1),ne=["src"];function se(a,l,s,_,d,n){return r(),i("div",null,[x,e("button",{onClick:l[0]||(l[0]=(...t)=>n.toggleForm&&n.toggleForm(...t))},"show/hide form"),e("button",{onClick:l[1]||(l[1]=(...t)=>n.toggleCal&&n.toggleCal(...t))},"show/hide callender"),h(e("div",D,[V,W,P,F,N,e("div",null,[(r(!0),i(c,null,g(n.overduePlants,t=>(r(),i("section",{class:"calendercard",key:t.name},[h(e("input",{type:"checkbox","onUpdate:modelValue":o=>t.checked=o,onChange:o=>n.handleCheckboxChange(t)},null,40,I),[[p,t.checked]]),m(),e("span",null,u(t.name)+" ",1),e("p",null," Due: "+u(n.formatNextWater(t.nextWater)),1),e("img",{src:t.photo,alt:"Plant photo"},null,8,M)]))),128))]),U,e("div",null,[(r(!0),i(c,null,g(n.dueTodayPlants,t=>(r(),i("section",{class:"calendercard",key:t.name},[h(e("input",{type:"checkbox","onUpdate:modelValue":o=>t.checked=o,onChange:o=>n.handleCheckboxChange(t)},null,40,L),[[p,t.checked]]),m(),e("span",null,u(t.name)+" ",1),e("p",null," Due: "+u(n.formatNextWater(t.nextWater)),1),e("img",{src:t.photo,alt:"Plant photo"},null,8,B)]))),128))]),T,e("div",null,[(r(!0),i(c,null,g(n.dueSoonPlants,t=>(r(),i("section",{class:"calendercard",key:t.name},[h(e("input",{type:"checkbox","onUpdate:modelValue":o=>t.checked=o,onChange:o=>n.handleCheckboxChange(t)},null,40,O),[[p,t.checked]]),m(),e("span",null,u(t.name)+" ",1),e("p",null," Due: "+u(n.formatNextWater(t.nextWater)),1),e("img",{src:t.photo,alt:"Plant photo"},null,8,J)]))),128))])],512),[[S,d.isVissCal]]),h(e("div",q,[H,e("form",{onSubmit:l[5]||(l[5]=w((...t)=>n.handleSubmit&&n.handleSubmit(...t),["prevent"]))},[A,h(e("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=t=>d.plantName=t),name:"plantName",required:""},null,512),[[y,d.plantName]]),R,Y,e("input",{type:"file",accept:"image/*",onChange:l[3]||(l[3]=(...t)=>n.handleFileChange&&n.handleFileChange(...t))},null,32),E,j,h(e("select",{"onUpdate:modelValue":l[4]||(l[4]=t=>d.wateringSchedule=t),name:"wateringSchedule",required:""},G,512),[[v,d.wateringSchedule]]),K,e("button",{type:"submit",disabled:!n.isFormValid},"Submit",8,Q)],32),d.previewImage?(r(),i("div",X,[Z,e("img",{src:d.previewImage,alt:"Plant photo preview",style:{"max-width":"100%",height:"auto"}},null,8,$)])):b("",!0)],512),[[S,d.isVissForm]]),e("div",ee,[te,e("button",{onClick:l[6]||(l[6]=(...t)=>n.clearLocalStorage&&n.clearLocalStorage(...t))},"Clear All Plants"),le,e("ul",null,[(r(!0),i(c,null,g(d.plants,(t,o)=>(r(),i("li",{key:o},[e("strong",null,u(t.name),1),ae,e("img",{src:t.photo,alt:"Plant photo"},null,8,ne)]))),128))])])])}const re=f(C,[["render",se]]);export{re as default};
