import{_ as k,o as d,c as h,a as e,w as u,n as w,F as p,q as g,s as y,v as m,t as f,h as C,u as _,l as v,x as c,y as b}from"./index-WBMuy6pf.js";const W={data(){return{isVissForm:!1,isVissCal:!1,plantName:"",selectedFile:null,previewImage:null,wateringSchedule:"",lastWater:"",currentEditIndex:null,plants:JSON.parse(localStorage.getItem("plants"))||[]}},computed:{isFormValid(){return this.plantName&&this.wateringSchedule},today(){return new Date},overduePlants(){return this.plants.filter(n=>new Date(n.nextWater)<this.today)},dueTodayPlants(){return this.plants.filter(n=>{const t=new Date(n.nextWater);return t.getFullYear()===this.today.getFullYear()&&t.getMonth()===this.today.getMonth()&&t.getDate()===this.today.getDate()})},dueSoonPlants(){return this.plants.filter(n=>new Date(n.nextWater)>this.today)}},created(){this.name=localStorage.getItem("name")||"",this.plants=JSON.parse(localStorage.getItem("plants"))||[]},methods:{clearLocalStorage(){localStorage.removeItem("plants"),this.plants=[]},removePlant(n){this.plants.splice(n,1),this.saveData()},editPlant(n){const t=this.plants[n];this.plantName=t.name,this.previewImage=t.photo,this.wateringSchedule=t.waterSchedule,this.lastWater=t.lastWater,this.currentEditIndex=n},saveEdit(n){const t={name:this.plantName,photo:this.previewImage,waterSchedule:this.wateringSchedule,lastWater:this.lastWater,nextWater:this.dateHandle(this.lastWater,this.wateringSchedule)};this.plants.splice(n,1,t),this.saveData(),this.resetForm()},cancelEdit(){this.resetForm()},resetForm(){this.plantName="",this.selectedFile=null,this.previewImage=null,this.wateringSchedule="",this.currentEditIndex=null},handleCheckboxChange(n){const t=new Date,s=this.dateHandle(t,n.waterSchedule);n.lastWater=t,n.nextWater=s,n.checked=!1,localStorage.setItem("plants",JSON.stringify(this.plants))},formatNextWater(n){const t={month:"short",day:"2-digit"};return new Date(n).toLocaleDateString(void 0,t)},toggleForm(){this.isVissForm=!this.isVissForm,this.isVissCal&&(this.isVissCal=!1)},toggleCal(){this.isVissCal=!this.isVissCal,this.isVissForm&&(this.isVissForm=!1)},updatePlants(n){this.plants=n},handleFileChange(n){const t=n.target.files[0];if(t){this.selectedFile=t;const s=new FileReader;s.onload=S=>{this.previewImage=S.target.result},s.readAsDataURL(t)}},handleSubmit(){const n=new Date,t=this.dateHandle(n,this.wateringSchedule),s={name:this.plantName,photo:this.previewImage,waterSchedule:this.wateringSchedule,lastWater:n,nextWater:t,checked:!1};this.plants.push(s),this.saveData(),this.plantName="",this.selectedFile=null,this.previewImage=null,this.wateringSchedule=""},saveData(){localStorage.setItem("plants",JSON.stringify(this.plants))},dateHandle(n,t){let s=new Date(n);return t==="Daily"?s.setDate(s.getDate()+1):t==="Weekly"?s.setDate(s.getDate()+7):t==="Biweekly"?s.setDate(s.getDate()+14):t==="Monthly"&&s.setMonth(s.getMonth()+1),s}}},x=e("h1",null,"Welcome to the plant watering app!!! Still under development but feel free to check it out",-1),D={class:"calender"},P=e("h2",null,"Plant Watering Calendar",-1),F=e("br",null,null,-1),N=e("h3",null,"Please Note the checkboxes are disabled",-1),V=e("br",null,null,-1),I=e("h3",null,"Overdue",-1),E=["onUpdate:modelValue","onChange"],M=["src"],U=e("h3",null,"Due Today",-1),B=["onUpdate:modelValue","onChange"],L=["src"],T=e("h3",null,"Due Soon",-1),q=["onUpdate:modelValue","onChange"],O=["src"],H={class:"plantform"},J=e("h1",null,"Plant Information Form",-1),R=e("label",{for:"plantName"},"Name:",-1),A=e("br",null,null,-1),Y=e("label",{for:"plantPhoto"},"Photo:",-1),j=e("br",null,null,-1),z=e("label",{for:"wateringSchedule"},"Watering Schedule:",-1),G=b('<option disabled value="">Select Schedule</option><option value="Daily">Daily</option><option value="Weekly">Weekly</option><option value="Biweekly">Biweekly</option><option value="Monthly">Monthly</option>',5),K=[G],Q=e("br",null,null,-1),X=["disabled"],Z={key:0},$=e("h3",null,"Photo Preview:",-1),ee=["src"],te={class:"plantlist"},le=e("h2",null,"Plant List",-1),ne=e("p",null,"Please note updating info is messy right now",-1),ae={key:0},se=e("h3",null,"Edit Plant",-1),oe=["onSubmit"],ie=e("label",{for:"plantName"},"Name:",-1),re=e("br",null,null,-1),de=e("label",{for:"plantPhoto"},"Photo:",-1),he=e("br",null,null,-1),ue=e("label",{for:"wateringSchedule"},"Watering Schedule:",-1),ce=b('<option disabled value="">Select Schedule</option><option value="Daily">Daily</option><option value="Weekly">Weekly</option><option value="Biweekly">Biweekly</option><option value="Monthly">Monthly</option>',5),pe=[ce],ge=e("br",null,null,-1),me=e("label",{for:"lastWater"},"Last Watered:",-1),_e=e("br",null,null,-1),ve=e("button",{type:"submit"},"Save",-1),Se={key:1},we=["src"],ye=["onClick"],fe=["onClick"];function be(n,t,s,S,o,a){return d(),h("div",null,[x,e("button",{onClick:t[0]||(t[0]=(...l)=>a.toggleForm&&a.toggleForm(...l))},"show/hide form"),e("button",{onClick:t[1]||(t[1]=(...l)=>a.toggleCal&&a.toggleCal(...l))},"show/hide callender"),u(e("div",D,[P,F,N,V,I,e("div",null,[(d(!0),h(p,null,g(a.overduePlants,l=>(d(),h("section",{class:"calendercard",key:l.name},[u(e("input",{type:"checkbox","onUpdate:modelValue":i=>l.checked=i,onChange:i=>a.handleCheckboxChange(l)},null,40,E),[[_,l.checked]]),v(),e("span",null,c(l.name)+" ",1),e("p",null," Due: "+c(a.formatNextWater(l.nextWater)),1),e("img",{src:l.photo,alt:"Plant photo"},null,8,M)]))),128))]),U,e("div",null,[(d(!0),h(p,null,g(a.dueTodayPlants,l=>(d(),h("section",{class:"calendercard",key:l.name},[u(e("input",{type:"checkbox","onUpdate:modelValue":i=>l.checked=i,onChange:i=>a.handleCheckboxChange(l)},null,40,B),[[_,l.checked]]),v(),e("span",null,c(l.name)+" ",1),e("p",null," Due: "+c(a.formatNextWater(l.nextWater)),1),e("img",{src:l.photo,alt:"Plant photo"},null,8,L)]))),128))]),T,e("div",null,[(d(!0),h(p,null,g(a.dueSoonPlants,l=>(d(),h("section",{class:"calendercard",key:l.name},[u(e("input",{type:"checkbox","onUpdate:modelValue":i=>l.checked=i,onChange:i=>a.handleCheckboxChange(l)},null,40,q),[[_,l.checked]]),v(),e("span",null,c(l.name)+" ",1),e("p",null," Due: "+c(a.formatNextWater(l.nextWater)),1),e("img",{src:l.photo,alt:"Plant photo"},null,8,O)]))),128))])],512),[[w,o.isVissCal]]),u(e("div",H,[J,e("form",{onSubmit:t[5]||(t[5]=y((...l)=>a.handleSubmit&&a.handleSubmit(...l),["prevent"]))},[R,u(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>o.plantName=l),name:"plantName",required:""},null,512),[[m,o.plantName]]),A,Y,e("input",{type:"file",accept:"image/*",onChange:t[3]||(t[3]=(...l)=>a.handleFileChange&&a.handleFileChange(...l))},null,32),j,z,u(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.wateringSchedule=l),name:"wateringSchedule",required:""},K,512),[[f,o.wateringSchedule]]),Q,e("button",{type:"submit",disabled:!a.isFormValid},"Submit",8,X)],32),o.previewImage?(d(),h("div",Z,[$,e("img",{src:o.previewImage,alt:"Plant photo preview",style:{"max-width":"100%",height:"auto"}},null,8,ee)])):C("",!0)],512),[[w,o.isVissForm]]),e("div",te,[le,ne,e("button",{onClick:t[6]||(t[6]=(...l)=>a.clearLocalStorage&&a.clearLocalStorage(...l))},"Clear All Plants"),e("ul",null,[(d(!0),h(p,null,g(o.plants,(l,i)=>(d(),h("li",{key:i},[o.currentEditIndex===i?(d(),h("div",ae,[se,e("form",{onSubmit:y(r=>a.saveEdit(i),["prevent"])},[ie,u(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=r=>o.plantName=r),required:""},null,512),[[m,o.plantName]]),re,de,e("input",{type:"file",accept:"image/*",onChange:t[8]||(t[8]=(...r)=>a.handleFileChange&&a.handleFileChange(...r))},null,32),he,ue,u(e("select",{"onUpdate:modelValue":t[9]||(t[9]=r=>o.wateringSchedule=r),required:""},pe,512),[[f,o.wateringSchedule]]),ge,me,u(e("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=r=>o.lastWater=r),required:""},null,512),[[m,o.lastWater]]),_e,ve,e("button",{onClick:t[11]||(t[11]=(...r)=>a.cancelEdit&&a.cancelEdit(...r))},"Cancel")],40,oe)])):(d(),h("div",Se,[e("strong",null,c(l.name),1),e("img",{src:l.photo,alt:"Plant photo"},null,8,we),e("button",{onClick:r=>a.editPlant(i)},"Edit",8,ye),e("button",{onClick:r=>a.removePlant(i)},"Remove",8,fe)]))]))),128))])])])}const Ce=k(W,[["render",be]]);export{Ce as default};
