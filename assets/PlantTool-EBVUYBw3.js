import{_,o as i,c as r,a as e,w as u,n as m,F as d,q as c,s as f,v as w,t as y,h as S,u as h,x as v}from"./index-B-VmPGHD.js";const D={data(){return{isVissForm:!1,isVissCal:!1,plantName:"",selectedFile:null,previewImage:null,wateringSchedule:"",name:localStorage.getItem("name")||"",plants:JSON.parse(localStorage.getItem("plants"))||[]}},computed:{isFormValid(){return this.plantName&&this.wateringSchedule},today(){return new Date},overduePlants(){return this.plants.filter(n=>new Date(n.nextWater)<this.today)},dueTodayPlants(){return this.plants.filter(n=>{const t=new Date(n.nextWater);return t.getFullYear()===this.today.getFullYear()&&t.getMonth()===this.today.getMonth()&&t.getDate()===this.today.getDate()})},dueSoonPlants(){return this.plants.filter(n=>new Date(n.nextWater)>this.today)}},created(){this.name=localStorage.getItem("name")||"",this.plants=JSON.parse(localStorage.getItem("plants"))||[]},methods:{formatNextWater(n){const t={month:"short",day:"2-digit"};return new Date(n).toLocaleDateString(void 0,t)},toggleForm(){this.isVissForm=!this.isVissForm,this.isVissCal&&(this.isVissCal=!1)},toggleCal(){this.isVissCal=!this.isVissCal,this.isVissForm&&(this.isVissForm=!1)},updatePlants(n){this.plants=n},handleFileChange(n){const t=n.target.files[0];if(t){this.selectedFile=t;const s=new FileReader;s.onload=p=>{this.previewImage=p.target.result},s.readAsDataURL(t)}},handleSubmit(){const n=new Date,t=this.dateHandle(n,this.wateringSchedule),s={name:this.plantName,photo:this.previewImage,waterSchedule:this.wateringSchedule,lastWater:n,nextWater:t};this.plants.push(s),this.saveData(),this.plantName="",this.selectedFile=null,this.previewImage=null,this.wateringSchedule=""},saveData(){localStorage.setItem("name",this.name),localStorage.setItem("plants",JSON.stringify(this.plants))},dateHandle(n,t){let s=new Date(n);return t==="Daily"?s.setDate(s.getDate()+1):t==="Weekly"?s.setDate(s.getDate()+7):t==="Biweekly"?s.setDate(s.getDate()+14):t==="Monthly"&&s.setMonth(s.getMonth()+1),s}}},b=e("h1",null,"Welcome to the plant watering app!!! Still under development but feel free to check it out",-1),x={class:"calender"},F=e("h2",null,"Plant Watering Calendar",-1),W=e("h3",null,"Overdue",-1),k=e("button",{type:"checkbox"},null,-1),N=["src"],V=e("h3",null,"Due Today",-1),P=e("button",{type:"checkbox"},null,-1),C=["src"],I=e("h3",null,"Due Soon",-1),M=e("button",{type:"checkbox"},null,-1),B=["src"],L={class:"plantform"},O=e("h1",null,"Plant Information Form",-1),T=e("label",{for:"plantName"},"Name:",-1),q=e("br",null,null,-1),J=e("label",{for:"plantPhoto"},"Photo:",-1),U=e("br",null,null,-1),H=e("label",{for:"wateringSchedule"},"Watering Schedule:",-1),R=v('<option disabled value="">Select Schedule</option><option value="Daily">Daily</option><option value="Weekly">Weekly</option><option value="Biweekly">Biweekly</option><option value="Monthly">Monthly</option>',5),Y=[R],A=e("br",null,null,-1),E=["disabled"],j={key:0},z=e("h3",null,"Photo Preview:",-1),G=["src"],K={class:"plantlist"},Q=e("h2",null,"Plant List",-1),X=e("br",null,null,-1),Z=["src"];function $(n,t,s,p,a,o){return i(),r("div",null,[b,e("button",{onClick:t[0]||(t[0]=(...l)=>o.toggleForm&&o.toggleForm(...l))},"show/hide form"),e("button",{onClick:t[1]||(t[1]=(...l)=>o.toggleCal&&o.toggleCal(...l))},"show/hide callender"),u(e("div",x,[F,W,e("div",null,[(i(!0),r(d,null,c(a.plants,l=>(i(),r("section",{class:"calendercard",key:l.name},[k,e("span",null,h(l.name)+" ",1),e("p",null," Due: "+h(o.formatNextWater(l.nextWater)),1),e("img",{src:l.photo,alt:"Plant photo"},null,8,N)]))),128))]),V,e("div",null,[(i(!0),r(d,null,c(a.plants,l=>(i(),r("section",{class:"calendercard",key:l.name},[P,e("span",null,h(l.name)+" ",1),e("p",null," Due: "+h(o.formatNextWater(l.nextWater)),1),e("img",{src:l.photo,alt:"Plant photo"},null,8,C)]))),128))]),I,e("div",null,[(i(!0),r(d,null,c(a.plants,l=>(i(),r("section",{class:"calendercard",key:l.name},[M,e("span",null,h(l.name)+" ",1),e("p",null," Due: "+h(o.formatNextWater(l.nextWater)),1),e("img",{src:l.photo,alt:"Plant photo"},null,8,B)]))),128))])],512),[[m,a.isVissCal]]),u(e("div",L,[O,e("form",{onSubmit:t[5]||(t[5]=f((...l)=>o.handleSubmit&&o.handleSubmit(...l),["prevent"]))},[T,u(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>a.plantName=l),name:"plantName",required:""},null,512),[[w,a.plantName]]),q,J,e("input",{type:"file",accept:"image/*",onChange:t[3]||(t[3]=(...l)=>o.handleFileChange&&o.handleFileChange(...l))},null,32),U,H,u(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>a.wateringSchedule=l),name:"wateringSchedule",required:""},Y,512),[[y,a.wateringSchedule]]),A,e("button",{type:"submit",disabled:!o.isFormValid},"Submit",8,E)],32),a.previewImage?(i(),r("div",j,[z,e("img",{src:a.previewImage,alt:"Plant photo preview",style:{"max-width":"100%",height:"auto"}},null,8,G)])):S("",!0)],512),[[m,a.isVissForm]]),e("div",K,[Q,e("ul",null,[(i(!0),r(d,null,c(a.plants,(l,g)=>(i(),r("li",{key:g},[e("strong",null,h(l.name),1),X,e("img",{src:l.photo,alt:"Plant photo"},null,8,Z)]))),128))])])])}const te=_(D,[["render",$]]);export{te as default};
